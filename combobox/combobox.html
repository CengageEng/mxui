<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
            "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head>
        <title>combobox</title>
        <style type='text/css'>
            body {font-family: verdana}
            .error {border: solid 1px red;}
            .error_text { color: red; font-size: 10px;}
            td {padding: 3px;}
        </style>	
        <link type="text/css" href="combobox.css" rel="stylesheet" />
    </head>
    <body>

        <input id="combobox_demo" type="text" name="myname" />
		
		<div><h1>Some html that dropdown draws over.</h1></div>
		<div><button type="button">Dummy</button></div>
		
		<span class="log"><label>Log (Set Value, Query, Change, Open):</label><div id="log"></div></span>
		<span class="log"><label>Log (Get Value):</label><div id="log2"></div></span>
				
		<div class="commands">
            <input id="someValue" />
			<button id="setValue">Set Value</button>
			<button id="getValue">Get Value</button>
			<button id="query">Query</button>
			<button id="enable">Enable</button>
			<button id="disable">Disable</button>						
		</div>

        <script type='text/javascript' 
                src='../../steal/steal.js'>   
        </script>
        <script type='text/javascript'>
            steal.plugins("phui/combobox",
                            "jquery/model").then(function($){
								
				 
				$("#combobox_demo").phui_combobox({
					items: [{value: 1, text: "archive", selected: true}, 
					        {value: 2, text: "delete"},
							{value: 3, text: "none"}] });			

				 
				// get/set API demo
				$("#getValue").bind("click", function(ev){
					var value = $("#combobox_demo").controller().val();
					$("#log2").html("<span>" + value + "</span>");
				})		
				$("#setValue").bind("click", function(ev){
					var value = $("input#someValue").val();
					$("#combobox_demo").controller().val(value);
				})
				
				// query API demo
				$("#query").bind("click", function(ev){
					var text = $("input#someValue").val();
					var values = $("#combobox_demo").controller().query(text);
					if (values.length) {
						$("#log").html("");
						for (var i = 0; i < values.length; i++) {
							$("#log").append("<div>" + values[i] + "</div>");
						}
					}
				});
				
				// enable/disable API demo
				$("#enable").click( function(ev){
				    var value = $("#someValue").val();
				    $("#combobox_demo").controller().enable(value);
				});
				$("#disable").click( function(ev){
				    var value = $("#someValue").val();
				    $("#combobox_demo").controller().disable(value);
				});	
				
				// event API for when a value is selected demo
				$("#combobox_demo").bind("change", function(ev, value){
					$("#log").html("<div>" + value + "</div>");
				})		
				
				// event API for when the dropdown is opened
				$("#combobox_demo").bind("open", function(ev){
					$("#log").html("<div>Combobox Opened.</div>");
				}) 													 					
                
            });
			
            
            steal.start();
            
        </script>
    </body>
</html>