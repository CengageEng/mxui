<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
            "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
	<head>
		<title>menuable</title>
        <style type='text/css'>
            body {font-family: verdana}
            .error {border: solid 1px red;}
            .error_text { color: red; font-size: 10px;}
            td {padding: 3px;}
			.selected a{
            	background-color: #ddffee;
            }
        </style>
	</head>
	<body>
	    <h1>Basic Menuable</h1>
		<pre>$("#menu1").phui_menuable()</pre>
        <ul id='menu1'>
            <li><a>Option 1</a>
                <div>
                	Here is a subMenu :)
                </div>
            </li>
            <li><a>Option 2</a>
                <div>
                	Here is a subMenu :)
                </div>
            
            </li>
        </ul>
		<h1>Menuable with focus for select and enter key for active</h1>
		<ul id='menu2'>
            <li><a tabindex='0' href="javascript://">Option 1</a>
                <div>
                	Here is a subMenu :)
                </div>
            </li>
            <li><a tabindex='0' href="javascript://">Option 2</a>
                <div>
                	Here is a subMenu :)
                </div>
            
            </li>
        </ul>
		<h1>Menuable with submenus and no activate</h1>
		
        <ul id="menu3">
            <li><a>Folder 2</a>
                <div>
					<ul class='submenu'>
                        <li><a>Folder Control</a>
                        	<div>
							<ul class='submenu'>
	                        	<li><a>Another</a></li>
	                        	<li><a>Exec</a></li>
	                        	<li><a>Policy</a></li>
							</ul>
							</div>
						</li>
                        <li><a>Search Policies</a></li>
                        <li><a>View Policies</a></li>
					</ul>
                </div>
			</li>
			<li><a>Google</a>
                <div>
					<ul class='submenu'>
                        <li><a>Risk</a></li>
                        <li><a>Enterprise</a></li>
                        <li><a>Incident</a></li>
					</ul>
                </div>
			</li>
        </ul>
		<script type='text/javascript' 
                src='../../steal/steal.js?steal[app]=phui/menuable&steal[env]=development'>   
        </script>
		<script type='text/javascript'>
			$("#menu1").phui_menuable().find("div").hide()
			  .bind("show", function(){
				$(this).fadeIn(function(){
					$(this).trigger("show:after")
				});
			})
			.bind("hide", function(){
				$(this).fadeOut(function(){
					$(this).trigger("hide:after")
				});
			});
        	$("#menu1").find("li").click(function(){
				$(this).trigger("activate")
			});
			
			
			//menu with focus
			$("#menu2").phui_menuable().find("div").hide()
			  .bind("show", function(){
				$(this).fadeIn(function(){
					$(this).trigger("show:after")
				});
			})
			.bind("hide", function(){
				$(this).fadeOut(function(){
					$(this).trigger("hide:after")
				});
			});
        	$("#menu2").find("a").focus(function(){
				$(this).trigger("select")
			});
			$("#menu2").find("a").keypress(function(ev){
				if(ev.keyCode == 13 || ev.keyCode == 10)
					$(this).trigger("activate")
			});
			
			
			//menu with focus
			Phui.Menuable.extend("Archer.UI.Menuable",
			{
				init: function(){
					var self = this;
					return this.element.children("li").each(function(){
						$(this).find("ul").each(function(){
							new self.Class(this)  
						});
					})
				}
			});
			$("#menu3").archer_ui_menuable().find("div").hide()
			  .bind("show", function(){
			  	$(this).show();
				$(this).trigger("show:after")

			})
			.bind("hide", function(){
			  	$(this).hide();
				$(this).trigger("hide:after")
			});
			$('#menu3').find("li").click(function(){
				$(this).trigger("activate")
			});
			
		</script>
	</body>
</html>